
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Source+Sans+Pro:wght@300;400;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    --radius: 0.5rem;

    --sidebar-background: 0 0% 98%;

    --sidebar-foreground: 240 5.3% 26.1%;

    --sidebar-primary: 240 5.9% 10%;

    --sidebar-primary-foreground: 0 0% 98%;

    --sidebar-accent: 240 4.8% 95.9%;

    --sidebar-accent-foreground: 240 5.9% 10%;

    --sidebar-border: 220 13% 91%;

    --sidebar-ring: 217.2 91.2% 59.8%;
    
    /* Academy Brand Colors */
    --academy-blue: 226 32% 44%;
    --academy-purple: 253 24% 55%;
    --academy-lightblue: 197 76% 65%;
    --academy-gray: 210 20% 98%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
    
    /* Academy Brand Colors - Dark Mode */
    --academy-blue: 226 42% 54%;
    --academy-purple: 253 34% 65%;
    --academy-lightblue: 197 86% 75%;
    --academy-gray: 210 20% 15%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans;
    width: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    min-height: 100dvh;
    -webkit-overflow-scrolling: touch;
    touch-action: pan-y pinch-zoom;
    position: relative;
  }

  /* Enhanced mobile device specific improvements */
  .mobile-device {
    font-size: 16px;
    touch-action: pan-y pinch-zoom;
    -webkit-overflow-scrolling: touch;
  }

  /* Enhanced mobile touch targets and responsive design */
  .mobile-device .touch-target,
  .mobile-device button,
  .mobile-device [role="button"],
  .mobile-device .select-trigger,
  .mobile-device .dropdown-trigger {
    min-height: 48px;
    min-width: 48px;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }

  /* Tablet specific touch targets */
  @media (min-width: 768px) and (max-width: 1023px) {
    .touch-target,
    button,
    [role="button"] {
      min-height: 44px;
      min-width: 44px;
    }
  }


  /* iOS Select component optimizations */
  @supports (-webkit-touch-callout: none) {
    .select-trigger-ios {
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      user-select: none;
    }
    
    .select-content-ios {
      will-change: transform;
      -webkit-transform: translateZ(0);
      transform: translateZ(0);
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
    }
  }

  .mobile-device input,
  .mobile-device textarea,
  .mobile-device select {
    font-size: 16px;
    transform: translateZ(0);
    touch-action: pan-y pinch-zoom;
  }
  
  /* iOS-specific improvements */
  .ios-device {
    -webkit-overflow-scrolling: touch;
    touch-action: pan-y pinch-zoom;
  }

  /* iOS Safari natural scrolling */
  @supports (-webkit-touch-callout: none) {
    body {
      min-height: 100dvh;
      -webkit-overflow-scrolling: touch;
    }
  }

  /* Touch-friendly improvements for mobile */
  @media (max-width: 768px) {
    button,
    .btn,
    [role="button"] {
      min-height: 48px;
      min-width: 48px;
      padding: 12px 16px;
      font-size: 16px;
      touch-action: pan-y pinch-zoom;
    }
    
    /* Improve text legibility */
    body {
      font-size: 16px;
      line-height: 1.6;
    }
    
    /* Better container spacing */
    .container {
      padding-left: 16px;
      padding-right: 16px;
      max-width: 100%;
    }
    
    /* Prevent text overflow */
    * {
      word-wrap: break-word;
      overflow-wrap: break-word;
    }
    
    /* Natural document flow for main content */
    main {
      flex: 1;
      width: 100%;
    }
    
    /* Improved form elements */
    input[type="text"],
    input[type="email"],
    input[type="password"],
    textarea,
    select {
      min-height: 48px;
      font-size: 16px;
      border-radius: 8px;
      padding: 12px 16px;
    }
    
    /* Radio buttons and checkboxes */
    input[type="radio"],
    input[type="checkbox"] {
      min-width: 20px;
      min-height: 20px;
      transform: scale(1.2);
    }
  }

  /* Cross-device responsive optimizations */
  @media (max-width: 767px) {
    .responsive-text-sm { font-size: 0.875rem; line-height: 1.25; }
    .responsive-text-base { font-size: 1rem; line-height: 1.5; }
    .responsive-text-lg { font-size: 1.125rem; line-height: 1.75; }
    .responsive-text-xl { font-size: 1.25rem; line-height: 1.75; }
    
    /* Mobile-first spacing */
    .responsive-spacing-sm { margin: 0.5rem; padding: 0.5rem; }
    .responsive-spacing-md { margin: 1rem; padding: 1rem; }
    .responsive-spacing-lg { margin: 1.5rem; padding: 1.5rem; }
  }

  @media (min-width: 768px) and (max-width: 1023px) {
    .responsive-text-sm { font-size: 0.9375rem; line-height: 1.375; }
    .responsive-text-base { font-size: 1.0625rem; line-height: 1.625; }
    .responsive-text-lg { font-size: 1.1875rem; line-height: 1.875; }
    .responsive-text-xl { font-size: 1.375rem; line-height: 1.875; }
    
    /* Tablet spacing */
    .responsive-spacing-sm { margin: 0.75rem; padding: 0.75rem; }
    .responsive-spacing-md { margin: 1.25rem; padding: 1.25rem; }
    .responsive-spacing-lg { margin: 2rem; padding: 2rem; }
  }

  @media (min-width: 1024px) {
    .responsive-text-sm { font-size: 1rem; line-height: 1.5; }
    .responsive-text-base { font-size: 1.125rem; line-height: 1.75; }
    .responsive-text-lg { font-size: 1.25rem; line-height: 1.875; }
    .responsive-text-xl { font-size: 1.5rem; line-height: 2; }
    
    /* Desktop spacing */
    .responsive-spacing-sm { margin: 1rem; padding: 1rem; }
    .responsive-spacing-md { margin: 1.5rem; padding: 1.5rem; }
    .responsive-spacing-lg { margin: 2.5rem; padding: 2.5rem; }
  }
  
  /* Improved scroll containers for mobile */
  .scroll-container {
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Enhanced mobile viewport fixes */
  html {
    overflow-x: hidden;
    width: 100%;
    height: 100%;
  }


  #root {
    width: 100%;
    max-width: 100vw;
    min-height: 100vh;
    min-height: 100dvh;
    position: relative;
    display: flex;
    flex-direction: column;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-montserrat font-bold;
  }
}

@layer utilities {
/* Enhanced mobile scrolling utilities */
  .mobile-scroll-container {
    width: 100%;
    height: 100dvh;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  
  .prevent-overscroll {
    -webkit-overflow-scrolling: touch;
  }
  
  .ios-safe-height {
    min-height: 100dvh;
  }
  
  .will-change-transform {
    will-change: transform;
  }

  /* Safe area utilities for mobile devices */
  .safe-top {
    padding-top: env(safe-area-inset-top, 0);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0);
  }

  .safe-left {
    padding-left: env(safe-area-inset-left, 0);
  }

  .safe-right {
    padding-right: env(safe-area-inset-right, 0);
  }

  /* Extra small screen breakpoint */
  @media (min-width: 380px) {
    .xs\:grid-cols-2 {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Enhanced mobile-specific improvements */
  @media (max-width: 768px) {
    body {
      -webkit-overflow-scrolling: touch;
    }
    
    .mobile-device {
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -webkit-tap-highlight-color: transparent;
    }

    /* Improve button touch targets */
    button, .btn, a[role="button"] {
      min-height: 44px;
      min-width: 44px;
      padding: 12px 16px;
    }

    /* Better input handling */
    input, textarea, select {
      font-size: 16px; /* Prevent zoom on iOS */
      border-radius: 8px;
      padding: 12px;
    }



  /* Android form field improvements */
  .android-device input,
  .android-device textarea,
  .android-device select {
    font-size: 16px !important; /* Prevent zoom */
    min-height: 48px;
    padding: 12px 16px;
    border-radius: 8px;
    touch-action: manipulation;
  }

  /* Android keyboard handling */
  .android-device .form-container {
    -webkit-overflow-scrolling: touch;
    overflow-y: auto;
  }

  /* Android grid improvements */
  @media (max-width: 414px) {
    .android-responsive-grid {
      grid-template-columns: 1fr !important;
      gap: 12px;
    }
  }

  @media (min-width: 415px) and (max-width: 767px) {
    .android-responsive-grid {
      grid-template-columns: 1fr !important;
      gap: 16px;
    }
  }

    /* Improve scrolling performance */
    .scroll-container {
      -webkit-overflow-scrolling: touch;
      transform: translateZ(0);
    }
  }

  /* iOS specific improvements */
  .ios-device {
    /* Use modern viewport height for iOS */
    min-height: 100dvh;
    
    /* Handle safe areas */
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
  
  .ios-device #root {
    /* Ensure root container uses correct height */
    min-height: 100dvh;
    width: 100%;
    position: relative;
  }
  
  /* Better font rendering on iOS */
  .ios-device * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Android specific improvements */
  .android-device {
    /* Android specific optimizations */
    -webkit-font-smoothing: antialiased;
  }

  /* Landscape mode optimizations */
  @media (orientation: landscape) and (max-height: 500px) {
    .landscape\:h-screen {
      height: 100vh !important;
    }

    .landscape\:p-2 {
      padding: 0.5rem;
    }

    .landscape\:pb-1 {
      padding-bottom: 0.25rem;
    }

    .landscape\:pb-4 {
      padding-bottom: 1rem;
    }

    .landscape\:min-h-\[36px\] {
      min-height: 36px;
    }

    .landscape\:h-9 {
      height: 2.25rem;
    }

    .landscape\:w-9 {
      width: 2.25rem;
    }
  }

  /* Responsive container system - mobile first */
  .container {
    width: 100%;
    max-width: 100%;
    padding-left: 1rem;
    padding-right: 1rem;
    margin-left: auto;
    margin-right: auto;
  }

  /* Tablet and small desktop */
  @media (min-width: 640px) {
    .container {
      max-width: 640px;
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }
  }

  /* Medium desktop */
  @media (min-width: 768px) {
    .container {
      max-width: 768px;
      padding-left: 2rem;
      padding-right: 2rem;
    }
  }

  /* Large desktop */
  @media (min-width: 1024px) {
    .container {
      max-width: 1024px;
      padding-left: 2rem;
      padding-right: 2rem;
    }
  }

  /* Extra large desktop */
  @media (min-width: 1280px) {
    .container {
      max-width: 1280px;
    }
  }

  /* Ultra wide desktop */
  @media (min-width: 1536px) {
    .container {
      max-width: 1536px;
    }
  }
}

/* Custom academy colors */
.bg-academy-blue {
  background-color: hsl(var(--academy-blue));
}

.text-academy-blue {
  color: hsl(var(--academy-blue));
}

.border-academy-blue {
  border-color: hsl(var(--academy-blue));
}

.bg-academy-purple {
  background-color: hsl(var(--academy-purple));
}

.text-academy-purple {
  color: hsl(var(--academy-purple));
}

.border-academy-purple {
  border-color: hsl(var(--academy-purple));
}

.bg-academy-lightblue {
  background-color: hsl(var(--academy-lightblue));
}

.text-academy-lightblue {
  color: hsl(var(--academy-lightblue));
}

.border-academy-lightblue {
  border-color: hsl(var(--academy-lightblue));
}

.bg-academy-gray {
  background-color: hsl(var(--academy-gray));
}

.text-academy-gray {
  color: hsl(var(--academy-gray));
}

.border-academy-gray {
  border-color: hsl(var(--academy-gray));
}

/* Font utilities */
.font-montserrat {
  font-family: 'Montserrat', sans-serif;
}

.font-source-sans {
  font-family: 'Source Sans Pro', sans-serif;
}
